(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[72],{997:(e,a,s)=>{Promise.resolve().then(s.bind(s,5465))},5465:(e,a,s)=>{"use strict";s.r(a),s.d(a,{default:()=>c});var t=s(5155),n=s(2115),r=s(5380),i=s(63),l=s(5363);function c(){let{user:e,userProfile:a,loading:s,createUserProfile:c}=(0,r.A)(),d=(0,i.useRouter)(),[m,o]=(0,n.useState)(!1);(0,n.useEffect)(()=>{if(!s&&(!e||e.isAnonymous))return void d.push("/onboarding")},[e,s,d]);let p=async e=>{try{var a;o(!0),await c({username:e.username,age:e.age,gender:e.gender,preferences:e.preferences,bodyCount:e.bodyCount,secret:e.secret,showSecret:e.showSecret,avatar:e.avatar,bodyTypePreference:e.bodyTypePreference,location:e.location,...(null==(a=e.moments)?void 0:a.length)>0&&{moments:e.moments}}),d.push("/onboarding")}catch(e){o(!1),alert("Failed to save profile. Please try again.")}};return s||!e||e.isAnonymous||m?(0,t.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-black via-gray-900 to-black flex items-center justify-center",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("img",{src:"/Kupid.png",alt:"Kupid",className:"w-10 h-10 mx-auto mb-4 animate-pulse"}),(0,t.jsx)("span",{className:"text-2xl font-light text-slate-300",children:"Kupid"}),(0,t.jsx)("div",{className:"mt-4",children:(0,t.jsx)("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-rose-500 mx-auto"})}),(0,t.jsx)("p",{className:"text-sm text-gray-400 mt-2",children:m?"Completing setup...":"Initializing profile setup..."})]})}):(0,t.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-black via-gray-900 to-black",children:[(0,t.jsx)("div",{className:"fixed inset-0 bg-[radial-gradient(ellipse_at_center,_var(--tw-gradient-stops))] from-pink-900/20 via-transparent to-transparent"}),(0,t.jsx)("div",{className:"fixed inset-0 bg-[linear-gradient(45deg,transparent_25%,rgba(190,24,93,0.05)_50%,transparent_75%)]"}),(0,t.jsx)("div",{className:"relative z-10 flex items-center justify-center min-h-screen p-4",children:(0,t.jsxs)("div",{className:"w-full max-w-md",children:[(0,t.jsx)("div",{className:"text-center mb-8",children:(0,t.jsxs)("div",{className:"inline-flex items-center space-x-3 mb-6",children:[(0,t.jsx)("img",{src:"/Kupid.png",alt:"Kupid",className:"w-8 h-8 md:w-10 md:h-10"}),(0,t.jsxs)("span",{className:"text-2xl md:text-3xl font-normal text-white bg-gradient-to-r from-pink-300 via-pink-500 to-pink-700 bg-[length:200%_200%] bg-clip-text text-transparent tracking-wider animate-gradient-shift",children:["Kupid",(0,t.jsx)("span",{className:"ml-2 text-sm animate-sparkle",children:"âœ¦"})]})]})}),(0,t.jsx)(l.A,{onComplete:p,onBack:()=>{d.push("/")},existingData:{username:(null==a?void 0:a.username)||e.displayName||"",gender:null==a?void 0:a.gender,age:null==a?void 0:a.age,preferences:(null==a?void 0:a.preferences)||[],interest:""}})]})})]})}}},e=>{e.O(0,[135,965,3,206,380,363,441,255,358],()=>e(e.s=997)),_N_E=e.O()}]);